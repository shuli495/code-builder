const <%= tableHumpName %>Model = require('../model/<%= tableHumpName %>Model');

/**
 * <%= tableComment %>
 */
class Service {
    /**
     * 创建
     * @param {json} params
     */
    async create(params) {
        const result = await <%= tableHumpName %>Model.create(params);

        return result;
    }

    /**
     * 列表
     * @param {json} params
     */
    async query(params) {
        const attributes = {
            exclude: ['deleted', 'deletedAt', 'deleterId'],
        };

        const result = await <%= tableHumpName %>Model.findAndCountAll({
            where: params,
            attributes,
        })
        return result;
    }

    /**
     * 详情
     */
    async find(id) {
        const result = await <%= tableHumpName %>Model.findOne({
            where: {
                id,
            },
        });

        return result;
    }

    /**
     * 修改
     * @param {*} id
     * @param {json} params
     */
    async update(id, params) {
        await <%= tableHumpName %>Model.update(params, {
            where: {
                id,
            },
        });
    }

    /**
     * 删除
     */
    async delete(id) {
        await <%= tableHumpName %>Model.destroy({
            where: {
                id,
            },
        });
    }
}

module.exports = new Service();
